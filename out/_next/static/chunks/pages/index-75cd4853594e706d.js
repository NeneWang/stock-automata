(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3868)}])},3868:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var o=n(5893),r=n(9008),a=n(214),s=n.n(a),c=n(7294);n(9741);function i(e){var t=e.stocks,n=e.settings;return console.log("this is the stocks information"),console.log(t),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("table",{className:"table table-hover",children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",children:"Symbol"}),n&&Object.keys(n).map((function(e){return(0,o.jsx)("th",{scope:"col",children:n[e]&&e},n[e])}))]})}),(0,o.jsx)("tbody",{children:t&&Object.values(t).map((function(e){var t=Object.values(e)[0];return(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"row",children:t.symbol}),n&&Object.keys(n).map((function(e){return(0,o.jsx)("th",{scope:"col",children:n[e]&&(0,o.jsx)("td",{children:t[e]},n[e]+t.symbol)},t.symbol)}))]},e)}))})]})})}function l(e){var t=e.settings,n=e.setting,r=e.toggleSetting,a=t[n]?"secondary":"danger";return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("button",{type:"button",onClick:function(){return r(n)},className:"btn btn-outline-".concat(a),children:n})})}var u=n(3461),d=n(4402),m=n(4935),f=n(5333),h=n(4871),p=n(594);function b(e){var t=e.tables,n=e.onSelect;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("select",{onChange:n,className:"form-select","aria-label":"Select from saved tables",children:[(0,o.jsx)("option",{option:-99,selected:!0,children:"Unsaved"}),t&&t.map((function(e){return(0,o.jsx)("option",{value:e.id,children:e.name},e.id)}))]})})}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){j(e,t,n[t])}))}return e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a=[],s=!0,c=!1;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(a.push(o.value),!t||a.length!==t);s=!0);}catch(i){c=!0,r=i}finally{try{s||null==n.return||n.return()}finally{if(c)throw r}}return a}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function S(){var e=function(e){var t=Object();return t[e]=!F[e],L(v({},F,t)),!1},t=function(e){fetch("https://codex-chan.wangnelson.xyz/public/api/stock/smartget/stocksymbol/".concat(e)).then((function(e){return e.json()})).then((function(t){if("FALSE"==t.stock_stat&&J("hmmm... ".concat(e," doesn't exists in our records, is the symbol correctly spelled?")),"RESEARCHING"==t.stock_stat&&J("".concat(e," under research, it will be available between 24 hours")),"TRUE"==t.stock_stat){J("".concat(e," added"));var n=t[0];n=v({newInformation:n},JSON.parse(n.data));var o=Object();o[e]=n,y(x(a).concat([o]))}}))},n=(0,c.useState)([]),a=n[0],y=n[1],j=g(c.useState(!1),2),_=j[0],S=j[1],k=(0,c.useState)(""),O=k[0],w=k[1],E=(0,c.useState)(-99),N=E[0],C=E[1],T=(0,c.useState)("Untitled"),A=T[0],P=T[1],D=(0,c.useState)([]),H=D[0],z=D[1],I=(0,c.useState)({"1y Target Est":!0,"52 Week range":!1,"Avg. Volume":!0,"Beta (5Y Monthly)":!0,"Days range":!0,"EPS (TTM)":!0,"Earnings Date":!0,"Ex-Dividend Date":!0,"Market Cap":!0,Open:!0,"PE Ratio (TTM)":!0,"Previous Close":!0,Volume:!0}),F=I[0],L=I[1],M=g(c.useState(!1),2),R=M[0],U=M[1],Z=function(){return U(!1)},J=function(e){w(e),S(!0)},V=function(e,t){"clickaway"!==t&&S(!1)},G=(0,o.jsx)(c.Fragment,{children:(0,o.jsx)(h.Z,{size:"small","aria-label":"close",color:"inherit",onClick:V,children:(0,o.jsx)(p.Z,{fontSize:"small"})})});return(0,c.useEffect)((function(){fetch("https://codex-chan.wangnelson.xyz/public/api/stock/save/getids").then((function(e){return e.json()})).then((function(e){z(x(e))}))}),[]),(0,o.jsxs)("div",{className:s().container,children:[(0,o.jsxs)(r.default,{children:[(0,o.jsx)("title",{children:"Stock Automata"}),(0,o.jsx)("meta",{name:"description",content:"Automatically produce a spreadsheet containing your favorite stocks information."}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("h1",{className:s().title,children:"Stock Automata"}),(0,o.jsx)("p",{className:s().description,children:A}),(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=e.target.symbol.value.toUpperCase();e.target.reset(),t(n)},children:[(0,o.jsx)(d.Z,{open:_,autoHideDuration:6e3,onClose:V,message:O,action:G}),(0,o.jsx)(b,{tables:H,onSelect:function(e){var t=e.target.value;C(t),t>0?fetch("https://codex-chan.wangnelson.xyz/public/api/stock/save/load/".concat(t)).then((function(e){return e.json()})).then((function(e){L(e.settings),P(e.name);var t=[];e.stockData.forEach((function(e){var n=Object(),o=JSON.parse(e.data);n[e.symbol]=v({},e,o),t.push(n)})),y(t)})):C(-99)}}),(0,o.jsx)("input",{type:"text",name:"symbol",className:"form-control",placeholder:"Enter Stock Symbol"}),F&&Object.keys(F).map((function(t){return(0,o.jsx)(l,{settings:F,setting:t,toggleSetting:e},t)}))]}),(0,o.jsx)(u.CSVLink,{className:"btn btn-outline-primary",data:function(){var e=["Symbol"],t=[];return F&&Object.keys(F).map((function(t){1==F[t]&&e.push(t)})),a&&Object.values(a).map((function(e){var n=Object.values(e)[0],o=[n.symbol];F&&Object.keys(F).map((function(e){F[e]&&o.push(n[e])})),t.push(o)})),console.log([e].concat(x(t))),[e].concat(x(t))}(),children:"Download as CSV"}),(0,o.jsx)(m.Z,{open:R,onClose:Z,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)(f.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},children:(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.target.savename.value,n={};n.name=t,n.settings=F;var o=[];Object.values(a).forEach((function(e){o.push(Object.values(e)[0].symbol)})),n.stocks=o;var r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};fetch("https://codex-chan.wangnelson.xyz/public/api/stock/save/savenew",r),e.target.reset(),Z()},children:[(0,o.jsx)("h3",{children:"Save as"}),(0,o.jsx)("input",{type:"text",className:"form-control",name:"savename",placeholder:"untitled"}),(0,o.jsx)("button",{className:"btn",type:"submit",children:"Save"})]})})}),(0,o.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){var e={},t=[];Object.values(a).forEach((function(e){t.push(Object.values(e)[0].symbol)})),e.stocks=t,e.settings=F,e.id=N;var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};console.log(e),console.log(H),fetch("https://codex-chan.wangnelson.xyz/public/api/stock/save/save",n)},children:" Save "}),(0,o.jsx)("button",{className:"btn btn-outline-primary",onClick:function(){return U(!0)},children:" Save as "}),(0,o.jsx)(i,{stocks:a,settings:F}),(0,o.jsx)("footer",{className:s().footer,children:(0,o.jsx)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=default-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer"})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[537,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);